<!doctype html>
<html class="no-js" lang="ko">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Flot Charts | Notika - Notika Admin Template</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- favicon
		============================================ -->
    <link rel="shortcut icon" type="image/x-icon" href="/static/img/favicon.ico">
    <!-- Google Fonts
		============================================ -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900" rel="stylesheet">
    <!-- Bootstrap CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <!-- font awesome CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/font-awesome.min.css">
    <!-- owl.carousel CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/owl.carousel.css">
    <link rel="stylesheet" href="/static/css/owl.theme.css">
    <link rel="stylesheet" href="/static/css/owl.transitions.css">
    <!-- meanmenu CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/meanmenu/meanmenu.min.css">
    <!-- animate CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/animate.css">
    <!-- normalize CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/normalize.css">
	<!-- wave CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/wave/waves.min.css">
    <link rel="stylesheet" href="/static/css/wave/button.css">
    <!-- mCustomScrollbar CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/scrollbar/jquery.mCustomScrollbar.min.css">
    <!-- Notika icon CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/notika-custom-icon.css">
    <!-- main CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/main.css">
    <!-- style CSS
		============================================ -->
    <link rel="stylesheet" href="/static/style.css">
    <!-- responsive CSS
		============================================ -->
    <link rel="stylesheet" href="/static/css/responsive.css">
    <!-- modernizr JS
		============================================ -->
    <script src="/static/js/vendor/modernizr-2.8.3.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    {% include "header.html" %}
	<!-- Breadcomb area Start-->
	<div class="breadcomb-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
					<div class="breadcomb-list">
						<div class="row">
							<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
								<div class="breadcomb-wp">
									<div class="breadcomb-icon">
										<i class="notika-icon notika-bar-chart"></i>
									</div>
									<div class="breadcomb-ctn">
										<h2>ë¶„ì„ ê²°ê³¼ ì‹œê°í™”</h2>
										
									</div>
								</div>
							</div>
							<div class="col-lg-6 col-md-6 col-sm-6 col-xs-3">
								<div class="breadcomb-report">
									<button data-toggle="tooltip" data-placement="left" title="Download Report" class="btn"><i class="notika-icon notika-sent"></i></button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Breadcomb area End-->
    <!-- Bar Chart area End-->
    <div class="flot-chart-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                  <h2>ì—°ë ¹ë³„ í‰ê·  ì‚¬ë§ë¥ </h2>
                  <div id="chart"></div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">  
                  <h2>ì—°ë ¹ë³„ í‰ê·  í™•ì§„ë¥ </h2>
                    <div id="chart3"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                  <h2>ì„±ë³„ í™•ì§„ë¥  ë° ì‚¬ë§ë¥ </h2>
                    <div id="chart4"></div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                  <h2>ê° ë³€ìˆ˜ ìƒê´€ê³„ìˆ˜ íˆíŠ¸ë§µ</h2>
                    <div id="chart2"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Bar Chart area End-->
    <!-- Start Footer area-->
    <div class="footer-copyright-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="footer-copy-right">
                        <p>Copyright Â© 2018 
. All rights reserved. Template by <a href="https://colorlib.com">Colorlib</a>.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Footer area-->
    <!-- jquery
		============================================ -->
    <script src="/static/js/vendor/jquery-1.12.4.min.js"></script>
    <!-- bootstrap JS
		============================================ -->
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- wow JS
		============================================ -->
    <script src="/static/js/wow.min.js"></script>
    <!-- price-slider JS
		============================================ -->
    <script src="/static/js/jquery-price-slider.js"></script>
    <!-- owl.carousel JS
		============================================ -->
    <script src="/static/js/owl.carousel.min.js"></script>
    <!-- scrollUp JS
		============================================ -->
    <script src="/static/js/jquery.scrollUp.min.js"></script>
    <!-- meanmenu JS
		============================================ -->
    <script src="/static/js/meanmenu/jquery.meanmenu.js"></script>
    <!-- counterup JS
		============================================ -->
    <script src="/static/js/counterup/jquery.counterup.min.js"></script>
    <script src="/static/js/counterup/waypoints.min.js"></script>
    <script src="/static/js/counterup/counterup-active.js"></script>
    <!-- mCustomScrollbar JS
		============================================ -->
    <script src="/static/js/scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    <!-- sparkline JS
		============================================ -->
    <script src="/static/js/sparkline/jquery.sparkline.min.js"></script>
    <script src="/static/js/sparkline/sparkline-active.js"></script>
    <!-- flot JS
		============================================ -->
    <script src="/static/js/flot/jquery.flot.js"></script>
    <script src="/static/js/flot/jquery.flot.resize.js"></script>
    <script src="/static/js/flot/jquery.flot.pie.js"></script>
    <script src="/static/js/flot/jquery.flot.tooltip.min.js"></script>
    <script src="/static/js/flot/jquery.flot.orderBars.js"></script>
    <script src="/static/js/flot/curvedLines.js"></script>
    <script src="/static/js/flot/flot-active.js"></script>
    <!-- knob JS
		============================================ -->
    <script src="/static/js/knob/jquery.knob.js"></script>
    <script src="/static/js/knob/jquery.appear.js"></script>
    <script src="/static/js/knob/knob-active.js"></script>
    <!--  Chat JS
		============================================ -->
    <script src="/static/js/chat/jquery.chat.js"></script>
    <!--  todo JS
		============================================ -->
    <script src="/static/js/todo/jquery.todo.js"></script>
	<!--  wave JS
		============================================ -->
    <script src="/static/js/wave/waves.min.js"></script>
    <script src="/static/js/wave/wave-active.js"></script>
    <!-- plugins JS
		============================================ -->
    <script src="/static/js/plugins.js"></script>
    <!-- main JS
		============================================ -->
    <script src="/static/js/main.js"></script>
	<!-- tawk chat JS
		============================================ -->
    <script src="/static/js/tawk-chat.js"></script>
    

    
    
    {% block js_block %}

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        fetch("/charts/api/correlation-data-2")  // Flask API í˜¸ì¶œ
          .then(response => response.json())
          .then(data => {
            var options = {
              series: data,
              chart: {
                height: 450,
                type: 'heatmap',
              },
              dataLabels: {
                enabled: true
              },
              plotOptions: {
                heatmap: {
                  shadeIntensity: 0.5,
                  colorScale: {
                    ranges: [
                      {
                        from: -1,
                        to: -0.5,
                        color: "#D4F4DD", // ì—°í•œ ë¯¼íŠ¸
                        name: "ê°•í•œ ìŒì˜ ìƒê´€"
                      },
                      {
                        from: -0.5,
                        to: 0,
                        color: "#A2DED0", // ì¤‘ê°„ ë¯¼íŠ¸
                        name: "ì•½í•œ ìŒì˜ ìƒê´€"
                      },
                      {
                        from: 0,
                        to: 0.5,
                        color: "#00C292", // ğŸ’š ë„¤ê°€ ì„ íƒí•œ ìƒ‰
                        name: "ì•½í•œ ì–‘ì˜ ìƒê´€"
                      },
                      {
                        from: 0.5,
                        to: 1,
                        color: "#009B7D", // ì§„í•œ ì²­ë¡
                        name: "ê°•í•œ ì–‘ì˜ ìƒê´€"
                      }
                    ]
                  }
                }
              },
              xaxis: {
                type: 'category'
              },
              
            };
            var chart = new ApexCharts(document.querySelector("#chart2"), options);
            chart.render();
          });
      });

    </script>
    
    {% endblock %}
    
    <script>
      fetch("/charts/api/age-mortality")
        .then(response => response.json())
        .then(result => {
          var options = {
            series: [{
              name: "í‰ê·  ì‚¬ë§ë¥  (%)",
              data: result.data
            }],
            chart: {
              height: 450,
              type: 'line',
              zoom: { enabled: false }
            },
            dataLabels: {
              enabled: true,
              formatter: function (val) {
                return val.toFixed(2) + "%";  // ë„íŠ¸ ìœ„ì— ì‚¬ë§ë¥  í‘œì‹œ
              },
              offsetY: -10,
              style: {
                fontSize: '12px',
                colors: ['#000']
              }
            },
            stroke: {
              curve: 'smooth',
              width: 3
            },
            markers: {
              size: 5,
              colors: ['#009B7D'],  // ë„íŠ¸ ìƒ‰ìƒ
              strokeColors: '#fff',
              strokeWidth: 2
            },
            grid: {
              row: {
                colors: ['#f3f3f3', 'transparent'],
                opacity: 0.5
              },
            },
            xaxis: {
              categories: result.categories,
              title: {
                text: 'ì—°ë ¹'
              }
            },
            yaxis: {
              title: {
                text: 'ì‚¬ë§ë¥  (%)'
              }
            },
            tooltip: {
              y: {
                formatter: function (val) {
                  return val.toFixed(2) + "%";
                }
              }
            }
          };
    
          var chart = new ApexCharts(document.querySelector("#chart"), options);
          chart.render();
        });
    </script>

    <script>
      fetch("/charts/api/age-infection-rate")
        .then(response => response.json())
        .then(result => {
          var options = {
            series: [{
              name: "í‰ê·  í™•ì§„ë¥  (%)",
              data: result.data
            }],
            chart: {
              height: 450,
              type: 'bar'
            },
            plotOptions: {
              bar: {
                borderRadius: 4,
                columnWidth: '45%',
                distributed: true
              }
            },
            dataLabels: {
              enabled: true,
              formatter: function (val) {
                return val.toFixed(2) + "%"
              },
              style:{colors : ['#000000']}
            },
            xaxis: {
              categories: result.categories,
              title: {
                text: 'ì—°ë ¹'
              }
            },
            yaxis: {
              title: {
                text: 'í™•ì§„ë¥  (%)'
              }
            },
            tooltip: {
              y: {
                formatter: function (val) {
                  return val.toFixed(2) + "%"
                }
              }
            },
            colors: ['#009B7D'] // ì—¬ê¸°ì— ì›í•˜ëŠ” ìƒ‰ìƒì„ ì§€ì •í•©ë‹ˆë‹¤. ì˜ˆ: '#FF5733' (ì£¼í™©ìƒ‰)
          };

          var chart = new ApexCharts(document.querySelector("#chart3"), options);
          chart.render();
        });
    </script>
    <script>
      fetch("/charts/api/gender-stats")
        .then(response => response.json())
        .then(result => {
          var options = {
            series: [{
              name: 'í™•ì§„ì ë¹„ìœ¨',
              data: result.infection_rate
            }, {
              name: 'ì‚¬ë§ì ë¹„ìœ¨',
              data: result.death_rate
            }],
            chart: {
              type: 'bar',
              height: 450
            },
            plotOptions: {
              bar: {
                horizontal: false,
                columnWidth: '55%',
                borderRadius: 5,
                borderRadiusApplication: 'end'
              },
            },
            dataLabels: {
              enabled: true, // ë°ì´í„° ë ˆì´ë¸”ì„ í™œì„±í™”
              style: {
                fontSize: '12px',
                colors: ['#000'] // ë ˆì´ë¸” í…ìŠ¤íŠ¸ ìƒ‰ìƒ
              },
              formatter: function(val) {
                return val.toFixed(2) + "%"; // ë‘ ìë¦¬ê¹Œì§€ ë°˜ì˜¬ë¦¼í•˜ì—¬ ë¹„ìœ¨ì„ %ë¡œ í‘œì‹œ
              },
              offsetY: -15, // ë ˆì´ë¸”ì„ ë§‰ëŒ€ ìœ„ë¡œ ì˜¬ë¦¼
              align: 'center', // ë ˆì´ë¸”ì„ ë§‰ëŒ€ ì¤‘ì•™ì— ë°°ì¹˜
            },
            stroke: {
              show: true,
              width: 2,
              colors: ['transparent']
            },
            xaxis: {
              categories: result.labels,  // ì˜ˆ: ['ì—¬ì„±', 'ë‚¨ì„±']
            },
            yaxis: {
              title: {
                text: '% (ë¹„ìœ¨)'
              },
              max: 100
            },
            fill: {
              opacity: 1
            },
            tooltip: {
              y: {
                formatter: function(val) {
                  return val + " %";
                }
              }
            },
            colors: ['#009B7D', '#FF5722']  // í™•ì§„/ì‚¬ë§ì ì»¬ëŸ¬
          };
    
          var chart = new ApexCharts(document.querySelector("#chart4"), options);
          chart.render();
        });
    </script>
    


    
    


</body>

</html>